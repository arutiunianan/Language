# Анишкин ArmLanguage
## Что он делает?
С помощью этого проекта вы можете писать программы на моем армянском, полном по Тьюрингу, языке.
<image src="for_readme/Flag_of_Armenia.svg.png" width=200px>
## Какой принцип работы?
Проект состоит из четырех частей:
<ul>
 <li><b>Frontend</b> компилирует исходный код в абстрактное синтаксическое дерево(abstract syntax tree, AST)</li>
 <li><b>ASM</b> преобразует команды на моем ассемблер-языке в их байт-коды</li>
 <li><b>Backend</b> компилирует AST в ассемблер-код</li>
 <li><b>CPU</b> выполняет любые программы, которые представлены в его байт-коде</li>
</ul>

### Языковые конструкции и синтаксис

Своей конструкцией <b>Анишкин ArmLanguage</b> схож на упрощенный вид языка python. Однако используемые ключевые слова и несколько подходов отличаются:

#### Тип 
 В <b>Анишкин ArmLanguage</b> используется только тип int
#### Переменные
Названия переменных могут состоять только из заглавнх и строчных букв и цифр(но начинаться с них не могут)
#### Знаки пунктуации и операции
Все операции можно писать как и армянскими буквами,так на с помощью английской транскрипции

| Имя операции | Описание | Пример использования |
|-------------|-------------|----------|
| *         | Операция умножения. Возвращает результат уммножения чисел.          | число1 * число2 |
| /        | Операция деления. Возвращает результат деления чисел.           | число1 / число2 |
| +         | Операция суммирования. Возвращает результат суммирования чисел.           | число1 + число2 |
| -         | Операция разности. Возвращает результат разности чисел.           | число1 - число2 |
| mets/մեծ         | Логическое больше. Возвращает 1, если первое число больше, иначе 0.           | число1 մեծ число2 |
| pokr/փոքր         | Логическое меньше. Возвращает 1, если первое число меньше, иначе 0.           | число1 փոքր число2 |
| havasar/հավասար         | Логическое равно. Возвращает 1, если числа равны, иначе 0.           | число1 հավասար число2 |
| havasarche/հավասարչէ         | Логическое равно. Возвращает 1, если числа не равны, иначе 0.           | число1 հավասարչէ число2 |
| ev/և         | Логическое и. Возвращает 0, если одно из чисел равен 0, иначе 1.           | число1 և число2 |				
| cum/կամ         | Логическое или. Возвращает 0, если оба числа равны 0, иначе 1.           | число1 կամ число2 |					
| Ete/Եթե         | Оператор если. Если выражение равно 1, то выполняется тело условия.           | Եթե ծծի число1 հավասար число2 պուպուլ|		
| Mutcargum/մուտքագրում         | Оператор ввода. Кладет введеное пользователем число в переменную           | մուտքագրում ծծի число1 պուպուլ|
| Ardunc/Արդյունք         | Оператор вывода. Выводит пользователю число в переменной           | Արդյունք ծծի число1 պուպուլ|
| Ete/Եթե         | Оператор если. Если выражение равно 1, то выполняется тело условия.           | Եթե ծծի число1 հավասար число2 պուպուլ|
| Arazhm/Առայժմ         | Оператор цикла. Если выражение равно 1, то выполняется тело условия, пока выражение не станет равно 0.           | Առայժմ ծծի число1 հավասար число2 պուպուլ|
| nshanakel/նշանակել         | Оператор присваивания. Переменной присваивается число           | число նշանակել 1|
| Gortsaruyt/Գործառույթ         | Оператор функции. Создается функция с некоторым количеством аргументов           | Գործառույթ пупупу ծծի бебебе պուպուլ|
| Gortsaruyt/Գործառույթ         | Оператор функции. Создается функция с некоторым количеством аргументов           | Գործառույթ пупупу ծծի бебебе պուպուլ|
| Gortsaruyt/Գործառույթ         | Оператор функции. Создается функция с некоторым количеством аргументов           | Գործառույթ пупупу ծծի ани պուպուլ|
| avelin/ավելին         | Оператор разделения аргументов в функции           | Գործառույթ пупупу ծծի гена ավելին чебурашка պուպուլ|
| tstsi/ծծի         | Открывающаяся скобка           |  ծծի ксюша պուպուլ|
| pupul/պուպուլ         | Открывающаяся скобка           |  ծծի аскар պուպուլ|
| Veradarcnel/Վերադարձնել         | Оператор возвращения. Возвращает значения из функции           |  Վերադարձնել бейбимело|

#### Опреатор разделения
Строки разделаяются между собой TABами в точности, как в python. При объявлении функции после пречисления аргументов и закрывающейся скобки ставится символ <b>:</b>.

### Построение дерева
Как уже говорилось выше результатом работы frontend'а является абстрактное синтаксическое дерево. Вот примеры того как оно строится:
#### Операция присваивания
<image src="for_readme/tree1.png" width=200px>

#### Арифметические операции
<image src="for_readme/tree2.png" width=800px>

#### Операции сравнения
<image src="for_readme/tree3.png" width=550px>

#### Условный оператор и цикл
<image src="for_readme/tree4.png" width=550px>

#### Объявление функции
<image src="for_readme/tree5.png" width=200px>

В итоге для программы-примера, который считает факториал введенного числа
```
Գործառույթ бубу ծծի хз պուպուլ:
    Եթե ծծի хз հավասարչէ 1 պուպուլ:
        Վերադարձնել 1
    няня նշանակել хз - 1
	бебе նշանակել бубу ծծի няня պուպուլ
	хехе նշանակել хз * бебе
	Վերադարձնել хехе

Գործառույթ пупупу ծծի պուպուլ:
	хз նշանակել 0
	մուտքագրում ծծի хз պուպուլ
	дэм նշանակել бубу ծծի хз պուպուլ
	Արդյունք ծծի дэм պուպուլ
	Վերադարձնել 0
```
дерево после выполнения <b>frontend</b>'а будет выглядеть так:
<image src="for_readme/expr_tree.png" width=600px>


## Как запустить программу?

Для компиляции <b>frontend</b> и <b>backend</b> соотвественно:

```
make frontend
make backend
```

Для запуска каждой из программ:

```
./frontend_ <ArmLang-файл>
./backend_ <database-файл>
```
Если не вводить названия файлов, то будут использоваться файлы по-умолчанию.

Для удаление объектников:
```
make clean_frt 
make clean_bck
make clean
```
Последняя команда удаляет сразу объектники и <b>frontend</b>'a и <b>backend</b>'a. 
## Как выглядит результат работы программ?
Для примера я написала [программу](factorial.txt) на своем <b>ArmLanguage</b>, которая вычисляет факториал введенного пользователем числа.
Результатом работы <b>backend</b>'a для нее является [ассемблер-код](backend/assemblered.txt).
Если запустить его с помощью моего проекта [CPU](https://github.com/arutiunianan/CPU.git), получим такой результат:

<image src="for_readme/console1.png" width=350px>

<image src="for_readme/console2.png" width=350px>